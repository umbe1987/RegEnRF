---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# rerf

<!-- badges: start -->
[![R-CMD-check](https://github.com/umbe1987/rerf/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/umbe1987/rerf/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

`rerf` is the implementation of the Regression-Enhanced Random Forests algorithm as described in [Zhang et al. (2019)](https://doi.org/10.48550/arXiv.1904.10416).

## Installation

You can install rerf like so:

``` r
install.packages("rerf")
```

or the development version like so:

``` r
devtools::install_github("umbe1987/rerf")
```

## Example

This is an example showing how to perform Regression-Enhanced Random Forests with `rerf`. It demonstrates how `rerf` can extrapolate beyond the training domain, as opposed to `randomForest`.

```{r example}
library(rerf)

set.seed(111)
data(co2)
x <- matrix(c(time(co2), cycle(co2)), ncol = 2)
y <- as.numeric(co2)
mod <- rerf(x, y, lambda = 0.1)
freq <- frequency(co2)
startt <- tsp(co2)[2] + 1 / freq
xnew.t <- seq(startt, by = 1 / freq, length.out = freq * 3)
xnew <- matrix(c(xnew.t, cycle(tail(co2, freq * 3))), ncol = 2)
pred <- predict(mod, xnew)
pred.ts <- ts(pred, start = startt, frequency = freq)
plot(ts.union(co2, pred.ts), plot.type = "single", col = c("black", "red"))
```
